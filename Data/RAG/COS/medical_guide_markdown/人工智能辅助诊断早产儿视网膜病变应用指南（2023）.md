# 人工智能辅助诊断早产儿视网膜病变应用指南（2023）

专家组 中国医药教育协会眼科影像与智能医疗分会 国际转化医学会眼科专委会 中国眼科影像研究专家组

![](images/1e5e16f5895432a1edc94f9e6b5438550686b8a83508f2f1178bd5b54b62f76c.jpg)

通信作者：邵毅（ORCID：0000000315712433），男，1982年 10月出生，江西上饶人，博士，主任医师，井冈学者，赣江学者，江西省杰青，省主要学术与学科带头人，省百千万工程人才，省双千科技创新高端领军人才，博士生／博士后导师。研究方向：眼科影像与智能医疗。Email：freebee99 $@$ 163．com

通信作者：迟玮（ORCID：0000000274243879），女，1975年 12月生，黑龙江哈尔滨人，主任医师，教授，教育部长江学者特聘教授，博士生／博士后导师。研究方向：眼底病与葡萄膜病。Email：chiwei＠mail．sysu．edu．cn

【摘要】 随着社会的发展，越来越多的早产儿得到了有效救治，但同时也导致早产儿视网膜病变（ROP）的发生率增加。ROP起病急、进展快，有效治疗时间窗口窄，因此早期筛查和诊断对于 ROP的有效治疗至关重要。人工智能技术的快速发展推动了医疗保健系统智能化进程，机器学习和深度学习等技术的不断提高使得人工智能在眼底疾病的诊断方面的运用也日益广泛。人工智能在 ROP辅助诊断中的研究颇多，并取得了一系列的应用进展。本文就人工智能辅助诊断 ROP的应用形成指南，为人工智能在该领域中的进一步研究和应用提供参考。

【关键词】 人工智能；早产儿视网膜病变；机器学习；深度学习；卷积神经网络

【中图分类号】 R774．1

![](images/9b6c3a8167b771e491a7e4967e19cc4dc71924f499d6ff52237edbc323c14caf.jpg)

早产儿视网膜病变（ROP）是全球范围内一个重要的眼科问题，可能导致儿童失明［12］ ，社会的发展使年龄更小和出生体重更低的早产儿得到了有效救治，从而使得面临 ROP风险的患儿数量不断增加。此外，一些高收入国家面临着疾病筛查的重负，例如在英国，平均每55名接受检查的婴儿就会发现 1名需要给予治疗。在一些眼科医生短缺的地区，对每一名高危患儿直接进行床边检查的模式可能并不可行。另外，ROP的临床诊断具有主观性，同一患儿不同检查者之间的判断结果存在较大差异［3］ ，这也可能导致相应的治疗方案的明显差异［4］ 。因此，迫切需要寻找快速、灵敏、客观、规范并且适宜推广的 ROP筛查方法。

![](images/0bc618cb66a3c92a86d82bf467c4d2133fd26a30abbf47d52ec5cdad209a620c.jpg)

通信作者：刘秋平（ORCID：0000000164891840），男，1983年 7月出生，湖南衡阳人，科主任，博士，硕士生导师。研究方向：糖尿病视网膜病变及早产 儿 视 网 膜 病 变。 Email：liuqiuping1983＠gmailcom

收稿日期：2023052
修回日期：20230619
本文编辑：盛丽娜，刘雪立
△ 基金项目：国家自然科学基金（编号：82160195，81800804）；江西省双千计划科技创新高端领军人才项目（编号：jxsq2023201036）；江西省重大（重点）研发专项计划（编号：20223BBH80014，20181BBG70004，20203BBG73059）；江 西 省 杰 出 青 年 基 金 （编 号：20192BCBL23020）
注：本指南的国际实践指南注册号为 PREPARE2023CN440（http：／／www．guidelinesredistry．cn／）。

目前，越来越多的眼科医生利用彩色眼底照相系统对 ROP进行记录和远程在线诊断，这极大地促进了基于计算机的图像分析（CBIA）在 ROP中的应用。与人类相比，计算机的优势在于不易疲劳以及避免一些主观因素对 ROP严重程度评估造成的影响。此外，利用 CBIA的方法可以使一些技术人员、辅助医疗保健人员甚至新生儿医生进行 ROP筛查和判断，而无须眼科医生实时参与。作为筛查系统的一部分，计算机辅助诊断可以平衡检查灵敏度最大化和眼科医生所需时间最小化之间的关系。目前人工智能已经在计算机辅助诊断中得到应用［56］ ，本指南分析并总结了人工智能在 ROP中的应用，提出相关工作者可能面临的挑战，并提供可参考的应对策略。

## 1 计算机辅助诊断 ROP

### 1.1 ROP的临床诊断

目前 ROP的诊断标准是根据 1984年出版的《ROP国际分类》（InternationalClassificationofROP）确定的，该分类标准于2005年进行了修订［78］ 。随后的临床研究，如 ROP的冷冻治疗和ROP的早期治疗（theearlytreatmentforretinopathyofprematurity）

研究，建立了基于证据的疾病筛查标准，并证明了Plus病变的重要性，该病变是血管扩张和扭曲的衡量标准。Plus病变的定义是眼底后极部出现明显的视网膜动脉迂曲和静脉扩张［8］ ，而“Preplus”则于2005年加入到 ROP分类中，其定义是较异常的动脉迂曲和静脉扩张，但严重程度尚未达到 Plus病变。由于机器学习检测在 ROP方面的应用有检测、分级，其检测和分级得到的结果和不同专家诊断 ROP的结果存在明显差异，因此，制定对 ROP中血管严重程度量表的验证标准也是一大难点。但随着机器学习在 ROP自动化诊断应用中的发展，未来会在更大范围内解决 ROP筛查的障碍，因此，可进一步深入基于机器学习的 ROP血管严重程度量化的研究。

### 1.2 ROP的相关特征

ROP的典型特征为视网膜因缺血缺氧进而刺激新生血管形成、玻璃体视网膜增殖，严重者可造成视网膜脱离等，最终导致视功能的丧失。ROP进展快，预防以及早期诊断尤为重要。Plus病变在需要治疗的 ROP诊断中具有重要意义。ROP的早期治疗研究发现，基于证据的诊断标准明显优于主观诊断，且能够显著改善 ROP早期诊断的准确性［9］ 。因此，CBIA将视网膜血管扩张和扭曲作为活动性 ROP的指标。这意味着当发现动脉迂曲和静脉扩张等 Plu病变时，医生更倾向于进行早期治疗，以防止疾病进展和产生严重后果。通过依据血管扩张和扭曲的指标进行诊断，可以提供更客观、准确的依据，从而改善 ROP的管理和治疗效果。

### 1.3 传统机器学习辅助诊断 ROP

传统的机器学习方法包括以下步骤：第一，定义目标疾病的特异性特征，例如血管扩张、扭曲和嵴的存在；第二，使用特征提取算法计算目标疾病的特征；第三，在统一指标（如灵敏度、特异度等）的前提下，训练分类以优化给定的真值指标，确定特征与诊断之间的关系；第四，测试系统对之前没出现过的数据的应答。系统性能可能会受到这些步骤中的任何一个的影响，例如缺乏标准量化特征的方法，训练数据中不充分学习或过拟合的分类器，以及噪声过多或缺乏泛化的基准值指标；设备以及操作人员的差异等。目前缺少以金标准为评估指标的高质量数据集。

早期用于 ROP诊断的 CBIA系统使用传统机器学习方法，根据彩色眼底照相中血管直径和弯曲度计算眼底照相的特征。使用各种数字化方法来量化血管弯曲度的数字学方法已经被使用，包括长度［1012］ 、曲率［1314］ 、角度［15］和空间频率［16］的测量，但是这些并不完全与临床对弯曲度的感知相一致［17］ 。这些早期算法的一个主要障碍是血管分割的准确性，需要耗费时间的人工输入来精确描绘眼底后极部血管，或使用形态学预处理进行半自动血管分割［1821］ 。总体而言，这些系统或者过于繁琐，或者没有足够的诊断性能，无法在临床真正实施。

### 1.4 深度学习辅助诊断 ROP

在过去的5年中，我们目睹了从特征提取机器学习方法到“深度学习”的巨大转变，其中卷积神经网络（CNN）起了重要作用。与早期的机器学习方法不同，深度学习分类机器能够在没有被明确指示关注哪些特征的情况下进行学习［2223］ 。最早应用深度学习进行全自动 ROP检测的研究是由 Worrall等［24］在2016年发表的，他们发现基于 CNN的系统在分辨 ROP患者与健康人眼底方面的表现与人类评分相似。Mulay等［25］建立了基于区域 CNN的模型来检测 ROP眼底中的嵴线，以改进第2阶段 ROP的分类标准。Wang等［26］ 发明了一种名为 DeepROP的自动 ROP筛查应用程序，其中涉及两个 CNN分类器：一个用于检测 ROP特征的存在与否，另一个用于对ROP病情程度进行轻微或严重的分级。对于附加疾病的分类，ROP成像与信息学（iROP）联盟使用两种CNN策略构建了 iROP深度学习（iROPDL）系统，第一种是 3Dnet用于血管的分割，第二种用于分类［27］ 。DeepROP和 iROPDL方法都可以使用公开可用的 ImageNet数据库进行预训练，并且结果与相应领域专家的判断高度一致。

2019年，Redd等［28］开始基于 iROPDL分类器衍生的 ROP血管病变的严重程度评分系统对疾病进行筛查，更多的研究证明 ROP血管病变的严重程度评分系统在监测疾病进展［29］ 、监测治疗后疾病消退［30］ 以及区分急进型后极部 $\mathrm { R O P } ^ { [ 3 1 ] }$ 的疾病速度方面具有实用价值。iROP联盟采用成功的基于 3Dnet的分割算法来更好地描绘血管，然后结合传统的特征提取和分类方案，展示了混合系统 iROPASSIST可以实现与 CNN类似的性能［32］ 。这一结果表明，将深度学习方法与传统方法相结合，可以取得良好的诊断性能，并提供更准确、高效的人工智能辅助诊断ROP工具。

## 2 发展人工智能辅助诊断 ROP的挑战和策略

虽然人工智能辅助诊断 ROP似乎可以解决一些现有的问题，但何时及如何将人工智能纳入常规ROP筛查是亟待解决的问题。以光学相干断层扫描（OCT）为例，自20世纪80年代起，其作为一种有前途的研究工具成功商业化，并成为眼科临床实践的关键组成部分，几乎在所有亚专科中得到了广泛应用，使我们能够更好地了解眼科疾病［33］ 。然而，OCT经历了近十年的时间才被广泛整合到日常眼科实践中，这一过程需要研究人员、行业、监管机构和临床医生之间的大量协同和努力。

将人工智能应用到 ROP临床实践中面临如下几个方面的限制：首先，尚不明确人工智能算法是否能够适用于不同眼底照相机和人群中，以及是否具有可接受的诊断性能；其次，如何将这项技术整合到现有的或新的临床工作流程中仍需进一步研究；再者，虽然本专家组已发表眼科人工智能临床应用伦理相应共识［34］ ，但相关伦理和监管问题以及公众对人工智能的态度也是需要考虑的重要因素。

科学研究中的结果尚无法代表临床实践中的有效性［35］ ，从人工智能的角度看，大部分文章发表在计算机相关的期刊，而且有各种各样的指标，但在医学中，更多的是使用统一的金标准。鉴于此，我们希望提出一个前瞻性、金标准数据集，用于模型的测试。因为现有的数据集中，大多为回顾性数据集，且存在标签不完善、人种（跨地域数据集）等问题，此外，收集的数据质量也不是统一的。而关于模型，常见的限制自身算法的问题为泛化性、鲁棒性以及黑盒效应（它使得深度学习的流程不透明），它们之间又相互联系。我们建议、鼓励未来的研究采用可解释的机器学习或者深度学习模型，在糖尿病性视网膜病变中已经有学者做了此类研究，但是在 ROP中还没有相关的研究。

对于人工智能辅助诊断 ROP来说，深度 CNN对训练数据中的模式高度敏感，不仅是相关模式，还包括潜在的混淆模式，如图像质量、像素级图像采集可变性、不同的眼底色素沉着等。如果被测试的真实ROP分类在这些方面与训练分类不同，系统可能表现不佳。目前，ROP人工智能筛查中的几种方法已经在研究中展示了足够的概念验证性能，这些研究使用了来自特定眼底照相机和采集协议的精选图像数据集［2429，31］ ，我们需要研究这些算法在真实世界中对于可变的临床和技术参数是否具有可用性；同时我们建议建立前瞻性、金标准数据集，作为测试集或验证集来验证这些算法的实用性能。

与科学研究相比，在临床实践中的 ROP图像人工智能筛查可能和理论研究中有所不同。首先，在一个眼底照相机系统上表现良好的算法可能无法在不同的眼底照相机系统上表现相似。目前临床实践中存在多种不同类型的眼底照相机，这就使 ROP图像的标准化过程和 ROP人工智能筛查的监管审批过程变得更加复杂，因为算法只会被批准用于具有可用验证数据的眼底照相机［36］ 。如何解决 ROP临床实践中多个眼底照相机供应商的问题，还需要进一步观察和研究。其次，在新生儿重症监护室中为早产儿拍摄眼底图像比在门诊环境为成年人拍摄眼底图像更具有挑战性。临床实践中拍摄的眼底图像质量是否足够好，是否可以用于人工智能系统？可能需要进行技术培训或图像质量预筛选，才能对这些人工智能系统的输出结果产生足够的信任［37］ 。再次，眼底视网膜色素分布和 ROP临床表型因种族和地区而异。低收入和中等收入国家的 ROP表现可能与美国和欧洲不同［38］ ，需要独立验证。类似于药物开发的Ⅲ／Ⅳ期临床试验，我们预计会有两个验证阶段：第一，高度规范和协议化的 ROP图像采集和评估，旨在获得监管机构的临床使用批准；第二，上市后评估，以评估 ROP人工智能辅助筛查临床实际应用的有效性。这些研究将是证明人工智能辅助筛查 ROP模型的适宜推广性并获得临床医生接受的关键所在。

为了使人工智能技术得到广泛应用，还必须解决 ROP医疗服务中的实际障碍。首先，目前大多数ROP筛查都是通过检眼镜进行的床边检查，没有图像采集，而使用人工智能技术诊断 ROP则需要眼底照相机对图像进行记录，这也意味着将其应用于临床需要涉及眼底照相机费用、医疗法律和报销等多方面问题。因此，需要建立一个工作流程，将眼底照相机费用等现实因素考虑在内。尽管成功的远程医疗 ROP模型已经落地［3941］ ，且具有明显的优势，但它们仍然只占全球 ROP辅助诊断的一小部分，因为除去经济因素外，在收集数据时，所需的设备以及采集流程也需要统一化。

其次，将“用于 ROP的人工智能”设备融入临床决策过程尚存在如下不确定性：这项技术是作为一个筛查系统，辅助诊断工具（提供区域、阶段或附加疾病的建议诊断），还是作为指导随访和（或）作为治疗的风险模型的一部分［2930，4243］ 。人工智能应该是自主的（在没有监督的情况下工作）还是辅助的（对临床医生的辅助诊断）？如果是辅助性的，它是否能够帮助眼科医生或新生儿医生［4447］ ？目前人工智能普遍为学习机器训练，虽然疾病的最终诊断以及治疗还是需要医生，但以后的研究可以更多地和临床医生进行对比，相互验证、辅助，以提升医生的诊治效率，减轻医生压力。例如，在偏远地区，医疗资源、医生经验等相对匮乏，可深度学习人工智能可适当缓解医疗资源的紧缺。而在相对发达的城市，可以进行人工智能辅助医生的模式，同时根据医生的诊断结果对机器训练结果进行验证和优化。最后，设备相关费用是否能通过监管部门的许可可能是人工智能辅助诊断 ROP能否实施的一大原因，特别是在资源匮乏的地区，这些地区对 ROP筛查的需求很高，但缺乏购买额外硬件的可用资金。

## 3 人工智能辅助诊断 ROP的未来发展方向

### 3.1 人工智能辅助 ROP筛查

可能适用于人工智能辅助 ROP筛查的方法包括：诊断 ROP图像中的“分期”［25］ ，诊断 Preplus或更严重的程度［2627］ ，或在连续尺度上定量评估血管严重程度［2831］ 。作为一种筛查工具，人工智能辅助诊断将提高检测严重 ROP的敏感性，并降低漏诊的概率；此外，人工智能辅助诊断能够为基于多模态临床特征的 ROP诊断增加客观性。人工智能输入既可以在床边摄像头上实现，也可以作为远程医疗系统的一部分在云端实现。在这个模型中，人工智能系统将提供一个初步的读数（类似于心电图的自动解读），临床医生可以选择接受或否决。

### 3.2 自主人工智能辅助 ROP筛查

自动实时人工智能读取 ROP图像的概念具有以下优势：首先，在对人群的筛查过程中，人工智能实时识别 ROP图像并直接对 ROP进行临床亚型分级，由于典型筛查人群中大约有 $80 \%$ 的筛查结果是没有或仅有轻度疾病，自主人工智能辅助 ROP筛查可大大减少临床审查工作量［28］ 。其次，任何远程医疗项目在提供反馈时虽然都不可避免地存在延迟，但是技术人员和 ROP筛查团队的其他成员可以向家庭和护理团队提供实时辅助诊断，弥补这一缺陷。

### 3.3 人工智能辅助 ROP管理

多项临床试验的证据表明，ROP现有的参考标准以及分级并不一致，因此临床医生对 ROP的诊断结果也存在差异［4，4849］ 。这种分歧至少部分源于临床医生对附加疾病的主观评估以及对疾病严重程度的认知偏差。使用人工智能对疾病严重程度进行自动和客观地评估，可以更高效地为 ROP治疗提供一个新的循证指南框架，也许可以建立一个包括人口学、合并其他疾病等在内的治疗前后概率风险模型。此外，使用深度学习对 ROP严重程度进行定量评估，可能会得到一个风险评估模型，提前识别低风险婴儿，从而优化医生时间管理，同时减少因频繁监测检查对婴儿及其监护人带来的压力和痛苦。

### 3.4 人工智能辅助 $\mathbf { R O P }$ 图像采集

迄今为止，我们主要关注人工智能在图像解读方面的应用。然而，越来越多的人认识到图形处理单元和深度学习等技术还可以辅助图像采集，提供实时识别，辅助自动对焦和改善图像捕获质量［50］ 。此外，统一像素，然后利用模型降噪、合并马赛克等方式提高图像本身的质量，从而使数据集质量提高，在训练时就可以得到更好的效果。本指南主要介绍了人工智能在 ROP彩色眼底照相中的应用，类似的分析方法也适用于新兴的成像技术，如 OCT血流成像等［51］ 。深度学习非常适合结合多种 ROP成像模式的信息，并且有助于理解 ROP严重程度对视网膜结构的潜在影响。

## 4 结束语

由于医疗资源以及人眼识别能力的限制，使得眼科医生在应对需求量巨大的眼科疾病诊断时难免有心无力。相比而言，只要算力充足，机器学习算法能够从肉眼无法识别的像素层面上探索眼部图像信息，可以大批量快速地处理图像数据，从而大大拓宽眼部图像诊断的范畴。理论上，人工智能可以提高ROP诊断的效率、准确性和客观性。然而在临床工作中真正实现人工智能辅助诊断 ROP仍需要大量的工作，如制定数据采集标准、进行重复的验证和可行性论证等。此外，改变 ROP诊断和治疗模式需要对临床实践进行系统性改变，而这涉及许多挑战和机遇，包括可行的商业模式、稳定的眼底照相机系统、信息技术基础设施和人工智能研发成本的额外费用。在将人工智能引用到临床实践中，我们需要综合考虑伦理、技术、临床、监管和财务等各个方面的因素，这将有助于实现 ROP床旁检查和诊断，从而减少 ROP导致的可预防性失明的发生。这一目标的实现需要广泛的合作和协调，包括医疗专业人员、技术开发者、政策制定者和监管机构的共同努力。只有通过综合的努力，将这项技术带到临床，我们才能最大程度地发挥人工智能在 ROP管理中的潜力，帮助医生增强决策、提高诊断速度，最终改善患者的视功能和生活质量。